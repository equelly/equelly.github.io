<!DOCTYPE html>
<html>
<head>
    <title>Распределение грузопотоков</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
  <!-- Bootstrap core CSS -->
 
  <!-- Material Design Bootstrap -->
  
  <!-- Your custom styles (optional) -->
  
 
	<style>
	body {
    margin: 8px;
    background-color: #08f19b1a;
}
   #input1,#input2,#input1W,#input2W {
    width: 60%; /* Ширина поля в пикселах */
   } 
   markR {
    background-color: #00ffc4;
    color: black;
	
}
table {
    margin: 1px;
    border-collapse: collapse;
    width: 100%;
}

th {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;
	font-size: 26px;
	
}
td {
font-size: 22px;
text-align: center;
}
input {
    width: 40px;
    
    font-size: 15px; 
    
}
tr:hover {background-color:#f5f5f5;}
div.card {
  font-size: 16px;
  background-color: #08f19b45;
  padding: 5px;
  width: 100px;
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
  text-align: left;
}
.checkmark {
    position: relative;
    top: 8px;
    left: 0;
    height: 25px;
    width: 25px;
    
}
.radio {
    position:relative ;
    top: 6px;
    left: 0;
    height: 20px;
    width: 20px;
    
    border-radius: 50%;
}
.btn-info {
width: 100%;

font-size: 25px;
}
  </style>
</head>	
  <body>
	<div class="container">
 <h2> Распределение грузопотоков</h2>
  <p><h3>меньше объемов выше положение в таблице</h3> </p>
  <h5>данные на <p id="time"></p></h5>
  <div id ='user'></div>
   <table><div class="row">
    <td><div class="col-sm-6">
      
	   <h5 class="card-title">запад</h5>
        <div  class="card" style="width: 10rem"id="demo"></div> 
	    <div class="card-body">
	   </div></div>
	 </td> 
     <td><div class="col-sm-6">
	  <h5 class="card-title">восток</h5>
       <div  class="card" style="width: 10rem" id="demoW"></div>
	   <div class="card-body">
     </div></div>
	</div>
	</td>  
	</table>  
    

   
   <table>
   <thead>
     <tr>
        
		<th>п/п</th>
        <td>завоз<input type='checkbox' class='checkmark'checked disabled/>отгр.</td>
        <td></td>
		<td></td>
     </tr>
    </thead>
    <tbody>
    <tr>
      <form>
         <td id="name" ></td>
         <td id="input1"></td>
         <td id="input2"></td>
         
	</form>
      </tr>
 </tbody>
 </table>

<input class="btn btn-info" type='submit' value='Ввод данных для расчета' onclick='getValue()'></input>


	
  <table>
  
   <thead>
    <tr>
      <th>п/п</th>
      <td>завоз<input type='checkbox' class='checkmark'checked disabled/>отгр.</td>
      
	  <td></td>
    </tr>
   </thead>
   <tbody>
   <form>
    <tr>
      <td id="nameW"></td>
      <td id="input1W"></td>
      <td id="input2W"></td>
   </form>
     
     </tr>
    </tbody>
	</table>
<input class="btn btn-info" type='submit' value='Ввод данных для расчета' onclick='getValueW()'></input>

</div>
   
 
<script src="https://telegram.org/js/telegram-web-app.js"></script>	
	<script>
		let WebApp = window.Telegram.WebApp;

WebApp.showAlert(`Добро пожаловать, @${WebApp.WebAppUser.username}.`);
		let tg = window.Telegram.WebApp;
		tg.expand();
		tg.MainButton.textColor = "#FFFFFF";
		tg.MainButton.color = "#2cab37";
		let user = document.getElementById('user');

		let p = document.createElement('p');
		p.innerText = `${tg.initDataUnsafe.user.first_name}
		${tg.initDataUnsafe.user.last_name}`;
		user.appendChild(p);


	var storeZ = [
	     {name:"№5",R1:0,
		 R2:0,
		 R:function (){
		 return Number(this.R1)+Number(this.R2);}
		 },
	     {name:"№15",R1:0,
		 R2:0,
		 R:function (){
		 return Number(this.R1)+Number(this.R2);}
		 },
	  ];
	  var storeW = [
	    {name:"№4",R1:{
		 r:0,
		 action:"+",
		 },
		 R2:0,
		 R:function (){
		 return Number(this.R1.r)+Number(this.R2);}
		 },
	     {name:"№9",R1:{
		 r:0,
		 action:"+",
		 },
		 R2:0,
		 R:function (){
		 return Number(this.R1.r)+Number(this.R2);}
		 },
		 {name:"№10",R1:{
		 r:0,
		 action:"+",
		 },
		 R2:0,
		 R:function (){
		 return Number(this.R1.r)+Number(this.R2);}
		 },
		 {name:"№14",R1:{
		 r:0,
		 action:"+",
		 },
		 R2:0,
		 R:function (){
		 return Number(this.R1.r)+Number(this.R2);}
		 },
		 
	  ];
	  var   i, x = "", z = "", y= "" ;
	  for (let i = 0; i < storeZ.length; i++){ 
         x += storeZ[i].name+ "<br>";
         z += storeZ[i].input1="<input type='checkbox' class='checkmark'/><input id='input1' class='cls1' type='number' placeholder='зона1'><input type='checkbox' class='radio'/>"+ "<br>";
		 y += storeZ[i].input2="<input type='checkbox'class='checkmark'/><input id='input2' class='cls2' type='number' placeholder='зона2'><input type='checkbox' class='radio'/>"+ "<br>";
	     
		  document.getElementById("name").innerHTML = x;
          document.getElementById("input1").innerHTML = z;
	      document.getElementById("input2").innerHTML = y;
	      
 
};
	  var   i, x = "", z = "", y= "";
	  for (let i = 0; i < storeW.length; i++){ 
         x += storeW[i].name+ "<br>";
         z += storeW[i].R1.r="<input type='checkbox'class='checkmark'/><input id='input1W' class='cls1W' type='number' placeholder='зона №1'><input type='checkbox' class='radio'/>"+ "<br>";
		 y += storeW[i].R2="<input type='checkbox'class='checkmark'/><input id='input2W' class='cls2W' type='number' placeholder='зона №2'><input type='checkbox' class='radio'/>"+ "<br>";
	     
		  document.getElementById("nameW").innerHTML = x;
          document.getElementById("input1W").innerHTML = z;
	      document.getElementById("input2W").innerHTML = y;
	      
 
};
	  
	  
	  
	/*for (var i = 0; i <storeZ.length; i++ ){
	     document.getElementById("demo").innerHTML += '<p>Перегрузка'+ storeZ[i].name +'<br>Руда '+ storeZ[i].R +'</p>';
		 
	  }*/
	  
	  
	 function getValue() {
	 
	for (var i = 0; i < storeZ.length; i++) {
	var d = new Date(); 
	 document.getElementById('time').innerHTML =d; 
	    var val1 = document.getElementsByClassName('cls1')[i].value;//переменной val присваиваем значение поля ввода
		//document.getElementsByClassName('cls1')[i].value="";
		var val2 = document.getElementsByClassName('cls2')[i].value;
		//document.getElementsByClassName('cls2')[i].value="";
		var st1 = storeZ[i].R1=val1;//присваеваем объекту массива значение из поля  ввода
		var st2 = storeZ[i].R2=val2;
		}
		document.getElementById("demo").innerHTML= "";
		//document.getElementById("name").innerHTML= "";
		
		storeZ.sort(function(a,b){
		return a.R()-b.R();
		});
		
		for(var i=0; i <storeZ.length; i++ ) {
		//document.getElementById("name").innerHTML +='<div>'+ storeZ[i].name +  '</div>';
		document.getElementById("demo").innerHTML += '<p>Перегрузка <strong>'+ storeZ[i].name +  '</strong><br>R1__ <markR>'+ storeZ[i].R1 +'</markR>R2 __<markR>'+ storeZ[i].R2 +'</markR> всего: '+ storeZ[i].R() +'</p>';
		}
		
	  }
	  function getValueW() {
	 
	for (var i = 0; i < storeW.length; i++) {
	 
	    var val1 = document.getElementsByClassName('cls1W')[i].value;//переменной val присваиваем значение поля ввода
		//document.getElementsByClassName('cls1W')[i].value="";
		var val2 = document.getElementsByClassName('cls2W')[i].value;
		//document.getElementsByClassName('cls2W')[i].value="";
		var st1 = storeW[i].R1.r=val1;//присваеваем объекту массива значение из поля  ввода
		var st2 = storeW[i].R2=val2;
		}
		document.getElementById("demoW").innerHTML= "";
		//document.getElementById("nameW").innerHTML= "";
		
		storeW.sort(function(a,b){
		return a.R()-b.R();
		});
		
		for(var i=0; i <storeW.length; i++ ) {
		//document.getElementById("nameW").innerHTML +='<div>'+ storeW[i].name +  '</div>';
		document.getElementById("demoW").innerHTML += '<p>Перегрузка<strong>'+ storeW[i].name +  '</strong><br>R1__<markR>'+ storeW[i].R1.r +'</markR>R2__<markR>'+ storeW[i].R2 +'</markR>  всего: '+ storeW[i].R() +'</p>';
		}
		
	  }
	</script>
</body>
 </html>
		 
		 
		 
